<div class="competency-modal__content">
  <div class="competency-modal__header">
    <h4 class="competency-modal__header-title">
      {{ 'OBJECTIVES.project_objectives_criteriawindow_curriculum' | translate }}</h4>
    <button type="button" class="close competency-modal__header-close" aria-label="Close"
      (click)="bsModalRef.hide()">
      <span class="icon icon-ic_share_close"></span>
    </button>
  </div>
  <div class="competency-modal__body">
    <h6 class="competency-modal__body-title">
      {{ 'OBJECTIVES.project_objectives_criteriawindow_title' | translate }}</h6>
    <div class="competency-modal__body-block">
      <div class="competency-modal__body-block-grade">
        <app-dropdown
          [config]='gradeDropdownConfig'
          (dropdownSelect)='onDropdownSelect($event)'
        ></app-dropdown>
        <ng-scrollbar>
          <div class="competency-modal__body-scroll"
            [ngStyle]="{ 'max-height' : leftContentHeight }">
            <div class="custom-tab">
              <button
                *ngFor="let block of blocks; let index = index;"
                class="custom-tab__links"
                [ngClass]="{ active: this.currentBlockIndex === index }"
                (click)="changeCurrentBlock(index)"
              >
                <strong class="custom-tab__links-{{index}}">{{ index + 1 }}.&nbsp;</strong>
                <span class="custom-tab__links-label">{{ block.name }}</span>
                <span *ngFor="let check of checks" class="d-flex ml-auto">
                  <span *ngIf="check.parentId === index && check.count" class="d-flex ml-auto" >
                    <strong class="custom-tab__links-selected">
                      {{check.count}}
                    </strong>
                    <span class="custom-tab__links-icon icon-ic_check"></span>
                  </span>
                </span>
              </button>
            </div>
          </div>
        </ng-scrollbar>
      </div>
      <div class="competency-modal__body-criteria">
        <div
          *ngFor="let block of blocks; let index = index;"
          id="custom-tab__content{{index}}"
          class="custom-tab__content"
          [ngClass]="{ active: currentBlockIndex === index }"
        >
          <div class="custom-tab__content-body">
            <app-table-row [isHead]="true" [checkbox]="false" [cellData]="rowHeadData">
            </app-table-row>
            <ng-scrollbar>
              <div class="custom-tab__content-body-scroll" [ngStyle]="{ 'height' : contentHeight }">
                <app-table-row
                  *ngFor="let criteria of block.evaluationCriteria"
                  [checkbox]="true"
                  [cellData]="[{ list: criteria.name }, { list: criteria.basicSkills.join(', ') }]"
                  [parentID]="index"
                  (count)="getStatus($event)"
                ></app-table-row>
              </div>
            </ng-scrollbar>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="competency-modal__footer">
    <div class="competency-modal__footer-btn-group">
      <a
        href="javascript:void(0);"
        class="competency-modal__footer-btn-link"
      >
        {{ 'OBJECTIVES.project_objectives_criteriawindow_showall' | translate }}
        (6)
      </a>
      <button class="btn btn-primary competency-modal__footer-btn-submit">
        <span class="icon icon-ic_check"></span>
        {{ 'OBJECTIVES.project_objectives_criteriawindow_add' | translate }}
      </button>
    </div>
  </div>
</div>
