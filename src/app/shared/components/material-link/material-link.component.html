<div class="material-link">
  <div>
    <h2 class="material-link__title mb-4">
      {{ linkTitle | translate }}
    </h2>
    <div class="position-relative mb-7">
      <input
        type="text"
        class="material-link__input w-100"
        [ngClass]="{
          'material-link__input_focus': focus,
          'material-link__input_error': status === 'failed'
        }"
        (focus)="setFocus()"
        [(ngModel)]="link"
        (keyup)="handleKeyPress($event)"
        (ngModelChange)="changeStatus()"
      />
      <span
        class="icon icon-ic_enter material-link__icon position-absolute"
        [ngClass]="{
          'icon-ic_enter material-link__icon_enter': status == 'default',
          ' icon-ic_check material-link__icon_tick': status == 'success',
          'icon-ic_cross material-link__icon_cross': status == 'failed'
        }"
        (click)="handleSubmit()"
      ></span>
    </div>
  </div>
  <div
    class="material-link__preview-content position-relative"
    [ngClass]="{
      'material-link__preview-content_border': status === 'loading'
    }"
    *ngIf="linkContent?.image || status === 'loading' || status === 'failed'"
  >
    <app-material-card
      variant="preview"
      [validPreviewLink]="status !== 'failed'"
      [loading]="status === 'loading'"
      [thumbnail]="linkContent?.image"
      [title]="linkContent?.title"
      [link]="linkContent?.url"
    ></app-material-card>
    <app-loader *ngIf="status === 'loading'"></app-loader>
  </div>
</div>
